<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Deliveries</title>
</head>
<body>
<h1>Deliveries table</h1>
<table border="1" class="table table-striped table-dark">
    <thead>
    <td> Address </td>
    <td> Date </td>
    <td> Confirmed </td>
    <td> User first name </td>
    <td> User last name </td>
    <td> Products </td>
    <td> Update </td>
    <td> Delete </td>
    </thead>
    <tr th:each="delivery : ${deliveries}">
        <td><p th:text="${delivery.address}"></p></td>
        <td><p th:text="${delivery.date}"></p></td>
        <td><p th:text="${delivery.confirmed}"></p></td>
        <td><p th:text="${delivery.user.firstName}"></p></td>
        <td><p th:text="${delivery.user.lastName}"></p></td>
        <td>
            <ul th:each="product : ${delivery.products}">
                <li th:text="${product.name}"> </li>
                </li>
            </ul>
        </td>
        <td><a th:href="@{/deliveries/update-form/{id}(id=${delivery.id})}"><button type="submit"> Update </button></a> </td>
        <td><a th:href="@{/deliveries/delete/{id}(id=${delivery.id})}"><button type="submit"> Delete </button></a> </td>
    </tr>
</table>

<h2> Create a new delivery</h2> <br>

<form th:action="@{/deliveries}" th:object="${deliveryDto}" method="post">
    <label for="address">Delivery address </label>
    <input id="address" type="text" th:field="*{address}"/>
    <label for="date">Delivery date</label>
    <input
            type="datetime-local"
            id="date"
            value="2018-06-12T19:30"
            min="2018-06-07T00:00"
            max="2025-06-14T00:00"
            th:field="*{date}" />
    <label for="confirmed">Delivery is confirmed</label>
    <input type="checkbox" th:field="*{confirmed}" >

    <button type="submit">Create delivery!</button>
</form>

</body>
</html>